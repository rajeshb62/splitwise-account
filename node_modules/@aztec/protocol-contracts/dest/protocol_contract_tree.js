import { Fr, PROTOCOL_CONTRACT_TREE_HEIGHT } from '@aztec/circuits.js';
import { assertLength } from '@aztec/foundation/serialize';
import { buildProtocolContractTree } from './build_protocol_contract_tree.js';
import { ProtocolContractAddress, ProtocolContractLeaf, protocolContractNames } from './protocol_contract_data.js';
let protocolContractTree;
function getTree() {
    if (!protocolContractTree) {
        const leaves = protocolContractNames.map(name => ({
            address: ProtocolContractAddress[name],
            leaf: ProtocolContractLeaf[name],
        }));
        protocolContractTree = buildProtocolContractTree(leaves);
    }
    return protocolContractTree;
}
export function getProtocolContractSiblingPath(address) {
    const tree = getTree();
    const index = address.toNumber();
    return assertLength(tree.getSiblingPath(index).map(buf => new Fr(buf)), PROTOCOL_CONTRACT_TREE_HEIGHT);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG9jb2xfY29udHJhY3RfdHJlZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9wcm90b2NvbF9jb250cmFjdF90cmVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBcUIsRUFBRSxFQUFtQiw2QkFBNkIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzNHLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUUzRCxPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUM5RSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsb0JBQW9CLEVBQUUscUJBQXFCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUVuSCxJQUFJLG9CQUE0QyxDQUFDO0FBRWpELFNBQVMsT0FBTztJQUNkLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQzFCLE1BQU0sTUFBTSxHQUFHLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDaEQsT0FBTyxFQUFFLHVCQUF1QixDQUFDLElBQUksQ0FBQztZQUN0QyxJQUFJLEVBQUUsb0JBQW9CLENBQUMsSUFBSSxDQUFDO1NBQ2pDLENBQUMsQ0FBQyxDQUFDO1FBQ0osb0JBQW9CLEdBQUcseUJBQXlCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUNELE9BQU8sb0JBQW9CLENBQUM7QUFDOUIsQ0FBQztBQUVELE1BQU0sVUFBVSw4QkFBOEIsQ0FBQyxPQUFxQjtJQUNsRSxNQUFNLElBQUksR0FBRyxPQUFPLEVBQUUsQ0FBQztJQUN2QixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDakMsT0FBTyxZQUFZLENBQ2pCLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFDbEQsNkJBQTZCLENBQzlCLENBQUM7QUFDSixDQUFDIn0=