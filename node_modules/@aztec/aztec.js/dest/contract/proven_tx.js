import { Tx } from '@aztec/circuit-types';
import { SentTx } from './sent_tx.js';
/**
 * A proven transaction that can be sent to the network. Returned by the `prove` method of a contract interaction.
 */
export class ProvenTx extends Tx {
    constructor(wallet, tx) {
        super(tx.data, tx.clientIvcProof, tx.noteEncryptedLogs, tx.encryptedLogs, tx.unencryptedLogs, tx.enqueuedPublicFunctionCalls, tx.publicTeardownFunctionCall);
        this.wallet = wallet;
    }
    // Clone the TX data to get a serializable object.
    getPlainDataTx() {
        return new Tx(this.data, this.clientIvcProof, this.noteEncryptedLogs, this.encryptedLogs, this.unencryptedLogs, this.enqueuedPublicFunctionCalls, this.publicTeardownFunctionCall);
    }
    /**
     * Sends the transaction to the network via the provided wallet.
     */
    send() {
        const promise = (() => {
            return this.wallet.sendTx(this.getPlainDataTx());
        })();
        return new SentTx(this.wallet, promise);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmVuX3R4LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnRyYWN0L3Byb3Zlbl90eC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQVksRUFBRSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFHcEQsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUV0Qzs7R0FFRztBQUNILE1BQU0sT0FBTyxRQUFTLFNBQVEsRUFBRTtJQUM5QixZQUFzQixNQUFvQixFQUFFLEVBQU07UUFDaEQsS0FBSyxDQUNILEVBQUUsQ0FBQyxJQUFJLEVBQ1AsRUFBRSxDQUFDLGNBQWMsRUFDakIsRUFBRSxDQUFDLGlCQUFpQixFQUNwQixFQUFFLENBQUMsYUFBYSxFQUNoQixFQUFFLENBQUMsZUFBZSxFQUNsQixFQUFFLENBQUMsMkJBQTJCLEVBQzlCLEVBQUUsQ0FBQywwQkFBMEIsQ0FDOUIsQ0FBQztRQVRrQixXQUFNLEdBQU4sTUFBTSxDQUFjO0lBVTFDLENBQUM7SUFFRCxrREFBa0Q7SUFDeEMsY0FBYztRQUN0QixPQUFPLElBQUksRUFBRSxDQUNYLElBQUksQ0FBQyxJQUFJLEVBQ1QsSUFBSSxDQUFDLGNBQWMsRUFDbkIsSUFBSSxDQUFDLGlCQUFpQixFQUN0QixJQUFJLENBQUMsYUFBYSxFQUNsQixJQUFJLENBQUMsZUFBZSxFQUNwQixJQUFJLENBQUMsMkJBQTJCLEVBQ2hDLElBQUksQ0FBQywwQkFBMEIsQ0FDaEMsQ0FBQztJQUNKLENBQUM7SUFFRDs7T0FFRztJQUNJLElBQUk7UUFDVCxNQUFNLE9BQU8sR0FBRyxDQUFDLEdBQUcsRUFBRTtZQUNwQixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELENBQUMsQ0FBQyxFQUFFLENBQUM7UUFFTCxPQUFPLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDMUMsQ0FBQztDQUNGIn0=