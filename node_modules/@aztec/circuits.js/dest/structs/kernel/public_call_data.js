import { Fr } from '@aztec/foundation/fields';
import { BufferReader, serializeToBuffer } from '@aztec/foundation/serialize';
import { Proof } from '../proof.js';
import { PublicCircuitPublicInputs } from '../public_circuit_public_inputs.js';
/**
 * Public calldata assembled from the kernel execution result and proof.
 */
export class PublicCallData {
    constructor(
    /**
     * Public inputs of the public function.
     */
    publicInputs, 
    /**
     * Proof of the call stack item execution.
     */
    proof, 
    /**
     * Hash of the L2 contract bytecode.
     */
    bytecodeHash) {
        this.publicInputs = publicInputs;
        this.proof = proof;
        this.bytecodeHash = bytecodeHash;
    }
    toBuffer() {
        return serializeToBuffer(this.publicInputs, this.proof, this.bytecodeHash);
    }
    static fromBuffer(buffer) {
        const reader = BufferReader.asReader(buffer);
        return new PublicCallData(reader.readObject(PublicCircuitPublicInputs), reader.readObject(Proof), reader.readObject(Fr));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljX2NhbGxfZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zdHJ1Y3RzL2tlcm5lbC9wdWJsaWNfY2FsbF9kYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxFQUFFLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsWUFBWSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFOUUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNwQyxPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUUvRTs7R0FFRztBQUNILE1BQU0sT0FBTyxjQUFjO0lBQ3pCO0lBQ0U7O09BRUc7SUFDSSxZQUF1QztJQUM5Qzs7T0FFRztJQUNhLEtBQVk7SUFDNUI7O09BRUc7SUFDYSxZQUFnQjtRQVJ6QixpQkFBWSxHQUFaLFlBQVksQ0FBMkI7UUFJOUIsVUFBSyxHQUFMLEtBQUssQ0FBTztRQUlaLGlCQUFZLEdBQVosWUFBWSxDQUFJO0lBQy9CLENBQUM7SUFFSixRQUFRO1FBQ04sT0FBTyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzdFLENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQTZCO1FBQzdDLE1BQU0sTUFBTSxHQUFHLFlBQVksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDN0MsT0FBTyxJQUFJLGNBQWMsQ0FDdkIsTUFBTSxDQUFDLFVBQVUsQ0FBQyx5QkFBeUIsQ0FBQyxFQUM1QyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUN4QixNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUN0QixDQUFDO0lBQ0osQ0FBQztDQUNGIn0=